1回目 (dictの並び替えが思いつかず、答えを見ました。)<br>
時間計算量: O(N+MlogM) (N(カウント) + MlogM(ソート))<br>
空間計算量: O(2M) (M(カウンター) + M(ソートされたカウンター))<br>
N: len(nums), M: numsのユニークな要素数

```python
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        element_counter = defaultdict(int)
        for num in nums:
            element_counter[num] += 1  
        ordered_element_counter = sorted(element_counter, key = element_counter.get, reverse =True)
        return ordered_element_counter[:k]
```

2回目 

```python
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        element_counter = defaultdict(int)
        for num in nums:
            element_counter[num] += 1
        sorted_elemet_counter = sorted(element_counter.items(), key = lambda x: x[1], reverse = True)
        return [num for num, count in sorted_elemet_counter[:k]]
```

3回目 (2回目のスペルミス、sorted_elemet_counterを修正)
```python
class Solution:
    def topKFrequent(self, nums: List[int], k: int) -> List[int]:
        element_counter = defaultdict(int)
        for num in nums:
            element_counter[num] += 1
        sorted_element_counter = sorted(element_counter.items(), key = lambda x: x[1], reverse = True)
        return [num for num, count in sorted_element_counter[:k]]
```


defaultdict 実装(1回目)
```python
class MyDefaultDict:
    def __init__(self):       
        self.original_dict = dict()

    def setdata(self, key, value):
        self.original_dict[key] = value

    def getdata(self, key):
        if key not in self.original_dict:
            return 0
        else:
           return self.original_dict[key]

# Example usage of MyDefaultDict
my_default_dict = MyDefaultDict()
print(my_default_dict.getdata(1))
my_default_dict.setdata(1, 100)
print(my_default_dict.getdata(1))
```

上記のコードの問題点として、
1. 複数の型に対応していないため、defaultdictとしての役割を成していない
2. key, valueの挿入・取得の度にメソッドの呼び出しが必要
だったため、下記のURLを参考に、2回目の実装を行った。
https://github.com/sakupan102/arai60-practice/pull/10/files#diff-5cd4e95016aaca2d8bd5031dc91d4cc73ac3baad3b6c002619c9ceb3f0a9fd5fR82

- functionの利用
- マジックメソッド(\_\_getitem\_\_(), \_\_setitem\_\_())の利用
   参照:<br>
   https://docs.python.org/ja/3/reference/datamodel.html<br>
   下記はざっくりとしたメモ<br>
   クラスのあるメソッドに対して、何か添え字でアクセスを行った場合に関して定義をしたい場合、<br>
   マジックメソッドを利用して、\_\_getitem\_\_,  \_\_setitem\_\_を利用することでそこで定義された機能を呼び出すことができる。<br>
   \_\_getitem\_\_ を利用しない場合、my_default_dict[int]というアクセスの仕方ができず、my_default_dict.xx(int)のように添え字ではなくメソッドで定義する必要がある。
 

defaultdict 実装(2回目)
```python
class MyDefaultDict:
    def __init__(self, function):
        self.function = function
        self.original_dict = dict()

    def __setitem__(self, key, value):
        self.original_dict[key] = value

    def __getitem__(self, key):
        if key not in self.original_dict:
            self.original_dict[key] = self.function()
        return self.original_dict[key]

# Example usage of MyDefaultDict
my_default_dict = MyDefaultDict()
print(my_default_dict[1])
my_default_dict[1] = 100
print(my_default_dict[1])
```

