1:✖ 13.Dec.2023


1. 問題の肝
inorder と preroder どちらか一方のtraversalの結果では、
どこで実際にノードが切れているか(いつ葉ノードが来たか)がわからない。
しかし、両方を組み合わせることで、元々のTreeを再現することができる。

**Preorder Traversal（先行順）**は、最初の要素が常に現在のサブツリーの根であることを示します。この情報は、ツリーを構築する際にどのノードを最初に作成するかを決定するのに役立ちます。

**Inorder Traversal（中間順）**は、特定のノードに関連する左サブツリーと右サブツリーのノードを分割する情報を提供します。つまり、inorder配列内でpreorderの最初の要素（根）を見つけると、その左側にあるすべての要素が左サブツリーに、右側にあるすべての要素が右サブツリーに属します。


再構築プロセス
ステップ1: ルートノードの特定
Preorderの最初の要素（1）がツリーのルートです。
Inorderでこの要素（1）を見つけます。この場合、それは配列の中央にあります。
ステップ2: 左右サブツリーの識別
Inorderで1を中心に、その左側（4, 2, 7, 5）が左サブツリー、右側（3, 8, 6, 9）が右サブツリーです。
Preorderでは、最初の要素（1）を除いて、左サブツリー（2, 4, 5, 7）と右サブツリー（3, 6, 8, 9）の要素が順に並んでいます。
ステップ3: サブツリーの再構築
左サブツリーのPreorder（2, 4, 5, 7）とInorder（4, 2, 7, 5）を取り、これらを使って左サブツリーを再構築します。
ここで再び、Preorderの最初の要素（2）が左サブツリーのルートです。
Inorderで2を探し、その左側（4）が左の子、右側（7, 5）が右の子のサブツリーです。
右サブツリーに対しても同様のプロセスを行います。
Preorder（3, 6, 8, 9）とInorder（3, 8, 6, 9）から、右サブツリーを再構築します。
ここでも、Preorderの最初の要素（3）が右サブツリーのルートです。

2. より詳細なInorder, Prerorderの例
```
      1
     / \
    2   3
   / \   \
  4   5   6
     /   / \
    7   8   9
```
Inorder: 4 → 2 → 7 → 5 → 1 → 3 → 8 → 6 → 9
Preorder:  1 → 2 → 4 → 5 → 7 → 3 → 6 → 8 → 9